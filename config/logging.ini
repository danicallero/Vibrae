; Logging configuration for Vibrae
; - backend.log  : API / uvicorn / general app logs
; - player.log   : Player & Scheduler (vibrae_core.player / vibrae_core.scheduler)
; Placeholder __LOG_LEVEL__ is replaced at runtime.

[loggers]
keys=root,uvicorn,uvicorn.error,uvicorn.access,api,player,scheduler

[handlers]
keys=console,backend_file,player_file

[formatters]
keys=default

[formatter_default]
format=%(asctime)s %(levelname)s %(name)s: %(message)s

[handler_console]
class=StreamHandler
level=__LOG_LEVEL__
formatter=default
args=(sys.stdout,)

[handler_backend_file]
class=FileHandler
level=__LOG_LEVEL__
formatter=default
args=('logs/backend.log','a')

[handler_player_file]
class=FileHandler
level=__LOG_LEVEL__
formatter=default
args=('logs/player.log','a')

[logger_root]
level=__LOG_LEVEL__
handlers=console,backend_file

[logger_uvicorn]
level=INFO
handlers=console,backend_file
propagate=0
qualname=uvicorn

[logger_uvicorn.error]
level=INFO
handlers=console,backend_file
propagate=0
qualname=uvicorn.error

[logger_uvicorn.access]
level=INFO
handlers=console,backend_file
propagate=0
qualname=uvicorn.access

[logger_api]
level=__LOG_LEVEL__
handlers=console,backend_file
propagate=0
qualname=vibrae_api

[logger_player]
level=__LOG_LEVEL__
handlers=console,player_file
propagate=0
qualname=vibrae_core.player

[logger_scheduler]
level=__LOG_LEVEL__
handlers=console,player_file
propagate=0
qualname=vibrae_core.scheduler
